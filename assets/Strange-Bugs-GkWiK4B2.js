import{_ as o}from"./ValaxyMain.vue_vue_type_script_setup_true_lang-ahB046Va.js";import{a as c,p,b as g,e as u,w as l,f as y,g as i,h as s,r as t}from"./app-JCmIxXXV.js";const C={__name:"Strange-Bugs",setup(D,{expose:r}){const e=JSON.parse('{"title":"奇奇怪怪的 Bug 集散地","description":"","frontmatter":{"title":"奇奇怪怪的 Bug 集散地","excerpt":"平时遇到的奇怪代码问题，记录并整理。","date":"2024-09-21T01:41:00.000Z","image":"https://pic.axi404.top/117648512_p0.webp","categories":["Tech Talk","MISCs"],"tags":["Tech Talk","Bug Report"],"top":1},"headers":[{"level":2,"title":"前言","slug":"前言","link":"#前言","children":[]},{"level":2,"title":"博客渲染超时","slug":"博客渲染超时","link":"#博客渲染超时","children":[]},{"level":2,"title":"CUDA & CUDNN & Pytorch 安装","slug":"cuda-cudnn-pytorch-安装","link":"#cuda-cudnn-pytorch-安装","children":[]},{"level":2,"title":"Ubuntu 22.04 三系统安装以及安装显卡驱动后无线网卡恢复","slug":"ubuntu-22-04-三系统安装以及安装显卡驱动后无线网卡恢复","link":"#ubuntu-22-04-三系统安装以及安装显卡驱动后无线网卡恢复","children":[]},{"level":2,"title":"GPT API 调用显示 Unknown scheme for proxy URL","slug":"gpt-api-调用显示-unknown-scheme-for-proxy-url","link":"#gpt-api-调用显示-unknown-scheme-for-proxy-url","children":[]},{"level":2,"title":"AnyGrasp 配置踩坑","slug":"anygrasp-配置踩坑","link":"#anygrasp-配置踩坑","children":[]},{"level":2,"title":"Ubuntu22.04 搜狗输入法无法输出中文","slug":"ubuntu22-04-搜狗输入法无法输出中文","link":"#ubuntu22-04-搜狗输入法无法输出中文","children":[]}],"relativePath":"pages/posts/Tech-Talk/MISCs/Strange-Bugs.md","path":"/home/runner/work/axi404.github.io/axi404.github.io/pages/posts/Tech-Talk/MISCs/Strange-Bugs.md","lastUpdated":1726882878000}'),n=c(),h=e.frontmatter||{};return n.meta.frontmatter=Object.assign(n.meta.frontmatter||{},e.frontmatter||{}),p("pageData",e),p("valaxy:frontmatter",h),globalThis.$frontmatter=h,r({frontmatter:{title:"奇奇怪怪的 Bug 集散地",excerpt:"平时遇到的奇怪代码问题，记录并整理。",date:"2024-09-21T01:41:00.000Z",image:"https://pic.axi404.top/117648512_p0.webp",categories:["Tech Talk","MISCs"],tags:["Tech Talk","Bug Report"],top:1}}),(a,k)=>{const d=o;return g(),u(d,{frontmatter:y(h)},{"main-content-md":l(()=>k[0]||(k[0]=[i("h2",{id:"前言",tabindex:"-1"},[s("前言 "),i("a",{class:"header-anchor",href:"#前言","aria-label":'Permalink to "前言"'},"​")],-1),i("p",null,"平时遇到一些奇怪的代码问题，记录并整理，内容如下：",-1),i("nav",{class:"table-of-contents"},[i("ul",null,[i("li",null,[i("a",{href:"#前言"},"前言")]),i("li",null,[i("a",{href:"#博客渲染超时"},"博客渲染超时")]),i("li",null,[i("a",{href:"#cuda-cudnn-pytorch-安装"},"CUDA & CUDNN & Pytorch 安装")]),i("li",null,[i("a",{href:"#ubuntu-22-04-三系统安装以及安装显卡驱动后无线网卡恢复"},"Ubuntu 22.04 三系统安装以及安装显卡驱动后无线网卡恢复")]),i("li",null,[i("a",{href:"#gpt-api-调用显示-unknown-scheme-for-proxy-url"},"GPT API 调用显示 Unknown scheme for proxy URL")]),i("li",null,[i("a",{href:"#anygrasp-配置踩坑"},"AnyGrasp 配置踩坑")]),i("li",null,[i("a",{href:"#ubuntu22-04-搜狗输入法无法输出中文"},"Ubuntu22.04 搜狗输入法无法输出中文")])])],-1),i("h2",{id:"博客渲染超时",tabindex:"-1"},[s("博客渲染超时 "),i("a",{class:"header-anchor",href:"#博客渲染超时","aria-label":'Permalink to "博客渲染超时"'},"​")],-1),i("p",null,[s("在 Hugo 中，如果博客文章较多，渲染时间会非常长，导致渲染超时。具体考量可能是因为担心无限递归之类的，hugo 使用了粗暴的解决方法，超时就中断并且报错。所以解决方法也很简单，修改 "),i("code",null,"config.toml"),s(" 文件中的 "),i("code",null,"timeout"),s(" 配置项，增加渲染超时时间，单位貌似是毫秒。之前一直没有看 Github 详细报错，之前又出现过 Github Actions 瘫痪，我还以为又出现了，re-run 之后也就好了，估计是因为当初体量卡在临界点上，现在彻底超时了，也就发现了这个问题。")],-1),i("h2",{id:"cuda-cudnn-pytorch-安装",tabindex:"-1"},[s("CUDA & CUDNN & Pytorch 安装 "),i("a",{class:"header-anchor",href:"#cuda-cudnn-pytorch-安装","aria-label":'Permalink to "CUDA & CUDNN & Pytorch 安装"'},"​")],-1),i("p",null,"因为之前的 Ubuntu 系统又因为我自己的不小心所以坏掉了，于是又一次尝试重装系统，但是出现了很多的问题。",-1),i("p",null,"我的系统是 Ubuntu 20.04.6，在清华大学镜像站下载的最新版，电脑显卡是 NVIDIA GeForce RTX 3070 Laptop，可以支持 CUDA 12.2，在本段内容书写的时候，Torch 的官网使用的最标准的 pytorch 是 CUDA 12.1 的，所以安装这个版本，以及 9.3.0 的 CUDNN。",-1),i("p",null,[s("首先给出下载 CUDA 和 CUDNN 的官网，其中 CUDA 12.1 为 "),i("a",{href:"https://developer.nvidia.com/cuda-12-1-0-download-archive",target:"_blank",rel:"noreferrer"},"https://developer.nvidia.com/cuda-12-1-0-download-archive"),s("，CUDNN 9.3.0 为 "),i("a",{href:"https://developer.nvidia.com/cudnn-downloads",target:"_blank",rel:"noreferrer"},"https://developer.nvidia.com/cudnn-downloads"),s("，之后依次选择自己的系统版本即可。其中 CUDA 的安装方法使用的是 "),i("code",null,"runfile (local)"),s("，并且在此之前运行了 "),i("code",null,"sudo ubuntu-drivers autoinstall"),s(" 并重启以安装 driver。")],-1),i("p",null,[s("问题出现在，对于任何一个全新的最小安装的 Ubuntu 20.04 系统，在使用 runfile 的时候，均会报错，并说明在 "),i("code",null,"/var/log/nvidia-installer.log"),s(" 中可以看到详情，为：")],-1),i("div",{class:"language-txt vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"txt"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",null,"-> Error.")]),s(`
`),i("span",{class:"line"},[i("span",null,'ERROR: An error occurred while performing the step: "Checking to see whether the nvidia kernel module was successfully built". See /var/log/nvidia-installer.log for details.')]),s(`
`),i("span",{class:"line"},[i("span",null,'-> The command `cd ./kernel; /usr/bin/make -k -j16  NV_EXCLUDE_KERNEL_MODULES="" SYSSRC="/lib/modules/5.15.0-117-generic/build" SYSOUT="/lib/modules/5.15.0-117-generic/build" NV_KERNEL_MODULES="nvidia"` failed with the following output:')]),s(`
`),i("span",{class:"line"},[i("span")]),s(`
`),i("span",{class:"line"},[i("span",null,"make[1]: Entering directory '/usr/src/linux-headers-5.15.0-117-generic'")]),s(`
`),i("span",{class:"line"},[i("span",null,"warning: the compiler differs from the one used to build the kernel")]),s(`
`),i("span",{class:"line"},[i("span",null,"The kernel was built by: gcc (Ubuntu 9.4.0-1ubuntu1~20.04.2) 9.4.0")]),s(`
`),i("span",{class:"line"},[i("span",null,"You are using:           cc (Ubuntu 9.4.0-1ubuntu1~20.04.2) 9.4.0")]),s(`
`),i("span",{class:"line"},[i("span",null,"MODPOST /tmp/selfgz3405/NVIDIA-Linux-x86_64-530.30.02/kernel/Module.symvers")]),s(`
`),i("span",{class:"line"},[i("span",null,"ERROR: modpost: GPL-incompatible module nvidia.ko uses GPL-only symbol 'rcu_read_unlock_strict'")]),s(`
`),i("span",{class:"line"},[i("span",null,"make[2]: *** [scripts/Makefile.modpost:133: /tmp/selfgz3405/NVIDIA-Linux-x86_64-530.30.02/kernel/Module.symvers] Error 1")]),s(`
`),i("span",{class:"line"},[i("span",null,"make[2]: *** Deleting file '/tmp/selfgz3405/NVIDIA-Linux-x86_64-530.30.02/kernel/Module.symvers'")]),s(`
`),i("span",{class:"line"},[i("span",null,"make[2]: Target '__modpost' not remade because of errors.")]),s(`
`),i("span",{class:"line"},[i("span",null,"make[1]: *** [Makefile:1830: modules] Error 2")]),s(`
`),i("span",{class:"line"},[i("span",null,"make[1]: Leaving directory '/usr/src/linux-headers-5.15.0-117-generic'")]),s(`
`),i("span",{class:"line"},[i("span",null,"make: *** [Makefile:82: modules] Error 2")]),s(`
`),i("span",{class:"line"},[i("span",null,"ERROR: The nvidia kernel module was not created.")]),s(`
`),i("span",{class:"line"},[i("span",null,"ERROR: Installation has failed.  Please see the file '/var/log/nvidia-installer.log' for details.  You may find suggestions on fixing installation problems in the README available on the Linux driver download page at www.nvidia.com.")])])]),i("button",{class:"collapse"})],-1),i("p",null,"经过检查，发现问题其实很简单，是因为 g++ 等版本为 9，太高了，设置为 7 即可。",-1),i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," apt-get"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," install"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," gcc-7"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," g++-7")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," update-alternatives"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," --install"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," /usr/bin/gcc"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," gcc"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," /usr/bin/gcc-7"),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}}," 9")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," update-alternatives"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," --install"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," /usr/bin/gcc"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," gcc"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," /usr/bin/gcc-9"),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}}," 1"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}}," ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," update-alternatives"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," --display"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," gcc")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," update-alternatives"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," --install"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," /usr/bin/g++"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," g++"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," /usr/bin/g++-7"),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}}," 9")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," update-alternatives"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," --install"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," /usr/bin/g++"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," g++"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," /usr/bin/g++-9"),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}}," 1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," update-alternatives"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," --display"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," g++")])])]),i("button",{class:"collapse"})],-1),i("p",null,"之后再次运行，获得输出：",-1),i("div",{class:"language-txt vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"txt"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",null,"===========")]),s(`
`),i("span",{class:"line"},[i("span",null,"= Summary =")]),s(`
`),i("span",{class:"line"},[i("span",null,"===========")]),s(`
`),i("span",{class:"line"},[i("span",null,"Driver:   Not Selected")]),s(`
`),i("span",{class:"line"},[i("span",null,"Toolkit:  Installed in /usr/local/cuda-12.1/")]),s(`
`),i("span",{class:"line"},[i("span",null,"Please make sure that")]),s(`
`),i("span",{class:"line"},[i("span",null,"-   PATH includes /usr/local/cuda-12.1/bin")]),s(`
`),i("span",{class:"line"},[i("span",null,"-   LD_LIBRARY_PATH includes /usr/local/cuda-12.1/lib64, or, add /usr/local/cuda-12.1/lib64 to /etc/ld.so.conf and run ldconfig as root")]),s(`
`),i("span",{class:"line"},[i("span",null,"To uninstall the CUDA Toolkit, run cuda-uninstaller in /usr/local/cuda-12.1/bin")]),s(`
`),i("span",{class:"line"},[i("span",null,"***WARNING: Incomplete installation! This installation did not install the CUDA Driver. A driver of version at least 530.00 is required for CUDA 12.1 functionality to work.")]),s(`
`),i("span",{class:"line"},[i("span",null,"To install the driver using this installer, run the following command, replacing <CudaInstaller> with the name of this run file:")]),s(`
`),i("span",{class:"line"},[i("span",null,"    sudo <CudaInstaller>.run --silent --driver")]),s(`
`),i("span",{class:"line"},[i("span",null,"Logfile is /var/log/cuda-installer.log")])])]),i("button",{class:"collapse"})],-1),i("p",null,"设置环境变量：",-1),i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," vim"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," ~/.bashrc"),i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}}," # or ~/.zshrc")])])]),i("button",{class:"collapse"})],-1),i("p",null,"之后在最后添加：",-1),i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#C792EA","--shiki-light":"#9C3EDA"}},"export"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}}," PATH"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"/usr/local/cuda-12.1/bin"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"${"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"PATH"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},":"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"+"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},":${"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"PATH"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"}}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#C792EA","--shiki-light":"#9C3EDA"}},"export"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}}," LD_LIBRARY_PATH"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"/usr/local/cuda-12.1/lib64\\")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"                         ${"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"LD_LIBRARY_PATH"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},":"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"+"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},":${"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"LD_LIBRARY_PATH"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"}}")])])]),i("button",{class:"collapse"})],-1),i("p",null,[s("之后再 "),i("code",null,"source"),s(" 一下：")],-1),i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#82AAFF","--shiki-light":"#6182B8"}},"source"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," ~/.bashrc"),i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}}," # or ~/.zshrc")])])]),i("button",{class:"collapse"})],-1),i("p",null,"就可以正常的使用 CUDA 了：",-1),i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"nvcc"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," --version")])])]),i("button",{class:"collapse"})],-1),i("p",null,"输出为：",-1),i("div",{class:"language-txt vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"txt"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",null,"nvcc: NVIDIA (R) Cuda compiler driver")]),s(`
`),i("span",{class:"line"},[i("span",null,"Copyright (c) 2005-2023 NVIDIA Corporation")]),s(`
`),i("span",{class:"line"},[i("span",null,"Built on Tue_Feb__7_19:32:13_PST_2023")]),s(`
`),i("span",{class:"line"},[i("span",null,"Cuda compilation tools, release 12.1, V12.1.66")]),s(`
`),i("span",{class:"line"},[i("span",null,"Build cuda_12.1.r12.1/compiler.32415258_0")])])]),i("button",{class:"collapse"})],-1),i("p",null,"之后的 CUDNN 以及 torch 的安装就是按照提供的正常流程进行，完结撒花。",-1),i("p",null,"全部的指令包括以下内容：",-1),i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," apt"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," update")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," apt"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," upgrade")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," ubuntu-drivers"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," autoinstall")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"reboot")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," apt-get"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," install"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," gcc-7"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," g++-7")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," update-alternatives"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," --install"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," /usr/bin/gcc"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," gcc"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," /usr/bin/gcc-7"),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}}," 9")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," update-alternatives"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," --install"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," /usr/bin/gcc"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," gcc"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," /usr/bin/gcc-9"),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}}," 1"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}}," ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," update-alternatives"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," --display"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," gcc")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," update-alternatives"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," --install"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," /usr/bin/g++"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," g++"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," /usr/bin/g++-7"),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}}," 9")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," update-alternatives"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," --install"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," /usr/bin/g++"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," g++"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," /usr/bin/g++-9"),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}}," 1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," update-alternatives"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," --display"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," g++")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"wget"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," https://developer.download.nvidia.com/compute/cuda/12.1.0/local_installers/cuda_12.1.0_530.30.02_linux.run")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," sh"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," cuda_12.1.0_530.30.02_linux.run")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," vim"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," ~/.bashrc"),i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}}," # or ~/.zshrc")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"### add following in .bashrc ###")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#C792EA","--shiki-light":"#9C3EDA"}},"export"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}}," PATH"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"/usr/local/cuda-12.1/bin"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"${"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"PATH"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},":"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"+"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},":${"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"PATH"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"}}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#C792EA","--shiki-light":"#9C3EDA"}},"export"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}}," LD_LIBRARY_PATH"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"/usr/local/cuda-12.1/lib64\\")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"                         ${"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"LD_LIBRARY_PATH"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},":"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"+"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},":${"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"LD_LIBRARY_PATH"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"}}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"################################")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#82AAFF","--shiki-light":"#6182B8"}},"source"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," ~/.bashrc"),i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}}," # or ~/.zshrc")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"wget"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," https://developer.download.nvidia.com/compute/cudnn/9.3.0/local_installers/cudnn-local-repo-ubuntu2004-9.3.0_1.0-1_amd64.deb")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," dpkg"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," -i"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," cudnn-local-repo-ubuntu2004-9.3.0_1.0-1_amd64.deb")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," cp"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," /var/cudnn-local-repo-ubuntu2004-9.3.0/cudnn-"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"*"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"-keyring.gpg"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," /usr/share/keyrings/")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," apt-get"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," update")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," apt-get"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," -y"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," install"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," cudnn")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"wget"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"./Miniconda3-latest-Linux-x86_64.sh")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"conda"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," create"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," -n"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," torch"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," python="),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}},"3.8")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"conda"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," activate"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," torch")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"pip3"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," install"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," torch"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," torchvision"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," torchaudio")])])]),i("button",{class:"collapse"})],-1),i("p",null,[s("之后在 python 中 "),i("code",null,"torch.cuda.is_available()"),s(" 返回为 "),i("code",null,"true"),s("。")],-1),i("h2",{id:"ubuntu-22-04-三系统安装以及安装显卡驱动后无线网卡恢复",tabindex:"-1"},[s("Ubuntu 22.04 三系统安装以及安装显卡驱动后无线网卡恢复 "),i("a",{class:"header-anchor",href:"#ubuntu-22-04-三系统安装以及安装显卡驱动后无线网卡恢复","aria-label":'Permalink to "Ubuntu 22.04 三系统安装以及安装显卡驱动后无线网卡恢复"'},"​")],-1),i("p",null,[s("因为 Ubuntu 20.04 的若干的内容已经不再支持，使用起来最新的一些软件基本上全是报错，比较经典的就是 "),i("code",null,"GLIBC 2.3.1"),s(" 以及 "),i("code",null,"libssl.so.3"),s(" 等内容，而前者的安装十分的麻烦，所以干脆直接安装三系统。")],-1),i("p",null,"三系统的安装不是很困难，将新创建的 EFI 分区作为引导器就好（理论来说，全部的系统都可以使用同一个 EFI 分区，但是我之前安装的时候，当时太过于稚嫩，胡乱操作出现过问题，现在不太敢尝试，所以没有踩过坑，在这里不作为介绍的方法），之后在系统的 GRUB 界面就可以看到三个系统了。",-1),i("p",null,"一个常见的问题在于，如何切换 Grub。比如说我之前已经给我的 Ubuntu 20.04 的 Grub 安装了一个主题，而安装了新的系统之后，这个 Grub 会被新系统的 Grub 覆盖掉，那么应该如何处理呢。",-1),i("p",null,"假如说按照上述的方法，那么你在进入系统的时候其实是可以看到自己的之前的系统的，进入之前的系统之后，可以运行：",-1),i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," update-grub")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"lsblk")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"# 输出中可以找到 MOUNTPOINTS 为 /boot/efi 的项，记住其 NAME")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," grub-install"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," /dev/nvme0n1p1"),i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}}," # 以 nvme0n1p1 为例")])])]),i("button",{class:"collapse"})],-1),i("p",null,"之后重启即可。",-1),i("p",null,[s("Ubuntu 22.04 有一个比较经典的问题，就是安装显卡驱动之后，会导致无线网卡消失，按照正常的流程进行操作之后，运行 "),i("code",null,"sudo ubuntu-drivers autoinstall"),s(" 并且重启，再次进入默认的系统之后，就会发现网卡消失了。")],-1),i("p",null,[s("再次重启，进入 GRUB 之后选择 "),i("code",null,"Advanced options for ubuntu"),s("，进去之后可以看到两个 Ubuntu 的版本以及对应的两个 recovery mode。两个版本里面比较新的一个是在安装显卡驱动之后新安装的版本，可以理解为显卡驱动对于较高版本的内核具有依赖，但是配套的无线没有一起安装，记下来两个版本的型号，然后选择较低版本的内核（不是 recovery mode）进入。")],-1),i("p",null,[s("进入这一内核之后，可以发现网卡是有的，但是使用 "),i("code",null,"nvidia-smi"),s("，并没有正常的那个输出界面，因为这个系统中内核不满足显卡驱动的依赖，那么把这个系统的版本提上去就好了。")],-1),i("p",null,[s("使用 "),i("code",null,"sudo dpkg --get-selection | grep linux"),s(" 可以看到一些信息，其中一些项目包含版本号，有新版本的版本号，以及旧版本的，记下来这些旧版本的，并且使用 "),i("code",null,"sudo apt install"),s(" 安装使用新版本号覆盖旧版本号的这些内容。本人安装内容如下，作为参考：")],-1),i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," apt"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," install"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," linux-headers-6.8.0-40-generic"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," linux-image-6.8.0-40-generic"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," linux-modules-6.8.0-40-generic"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," linux-modules-extra-6.8.0-40-generic")])])]),i("button",{class:"collapse"})],-1),i("p",null,"再次重启，正常进入正常的系统，恢复。",-1),i("p",null,[s("需要注意的是，越早设置这些内容，与本文档的对齐程度最高，本人的安装流程为，正常安装系统（将全部硬盘空间都挂在在 "),i("code",null,"/"),s(" 下）并设置语言为中文，进入系统之后更换语言为英文（因为不然的话输入法的安装比较麻烦），重启，将文件夹变为英文名，再重启，连接网络，"),i("code",null,"sudo apt update"),s(" 以及 "),i("code",null,"sudo apt upgrade"),s("，最后就开始安装显卡驱动 "),i("code",null,"sudo ubuntu-drivers autoinstall"),s(" 并 "),i("code",null,"reboot"),s(" 重启。")],-1),i("h2",{id:"gpt-api-调用显示-unknown-scheme-for-proxy-url",tabindex:"-1"},[s("GPT API 调用显示 Unknown scheme for proxy URL "),i("a",{class:"header-anchor",href:"#gpt-api-调用显示-unknown-scheme-for-proxy-url","aria-label":'Permalink to "GPT API 调用显示 Unknown scheme for proxy URL"'},"​")],-1),i("p",null,"在使用 GPT API 的时候，正常的发送 request，显示：",-1),i("details",null,[i("summary",null," GPT API 报错信息"),s(" ValueError: Unable to determine SOCKS version from socks://127.0.0.1:7890/ ")],-1),i("p",null,[s("但是此时我已经将全部的代理关闭了，更不要说后续要需要开启代理才可以连接 "),i("code",null,"https://api.openai.com/v1"),s("，经过检查之后，大概是因为自己的网络环境太过于乱七八糟：")],-1),i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"env"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," |"),i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}}," grep"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," -i"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," proxy")])])]),i("button",{class:"collapse"})],-1),i("p",null,[s("可以查看到究竟是哪个环境出现了问题，之后正常使用 bash 或者 python 程序都可以进行修改，本人是发现 "),i("code",null,"ALL_PROXY"),s(" 出现问题：")],-1),i("div",{class:"vp-code-group vp-adaptive-theme"},[i("div",{class:"tabs"},[i("input",{type:"radio",name:"group-ty4Fr",id:"tab-HyyVr1t",checked:"checked"}),i("label",{for:"tab-HyyVr1t"},"bash"),i("input",{type:"radio",name:"group-ty4Fr",id:"tab-IM-olZa"}),i("label",{for:"tab-IM-olZa"},"python")]),i("div",{class:"blocks"},[i("div",{class:"language-bash vp-adaptive-theme active"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#82AAFF","--shiki-light":"#6182B8"}},"unset"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," ALL_PROXY")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#82AAFF","--shiki-light":"#6182B8"}},"unset"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," all_proxy")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"env"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," |"),i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}}," grep"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," -i"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," proxy")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#C792EA","--shiki-light":"#9C3EDA"}},"export"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}}," ALL_PROXY"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"http://127.0.0.1:7890"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#C792EA","--shiki-light":"#9C3EDA"}},"export"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}}," all_proxy"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"http://127.0.0.1:7890"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"')])])]),i("button",{class:"collapse"})]),i("div",{class:"language-python vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"python"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"import"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}}," os")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"os"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"environ"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"["),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"'"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"ALL_PROXY"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"'"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"]"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," ="),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," '"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"http://127.0.0.1:7890"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"'")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"os"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#F07178","--shiki-light":"#E53935"}},"environ"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"["),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"'"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"all_proxy"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"'"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"]"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," ="),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," '"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"http://127.0.0.1:7890"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"'")])])]),i("button",{class:"collapse"})])])],-1),i("p",null,[s("重点其实在于找到哪个有问题，并且进行覆盖，"),i("code",null,"unset"),s(" 是严谨起见，其实无所谓。")],-1),i("h2",{id:"anygrasp-配置踩坑",tabindex:"-1"},[s("AnyGrasp 配置踩坑 "),i("a",{class:"header-anchor",href:"#anygrasp-配置踩坑","aria-label":'Permalink to "AnyGrasp 配置踩坑"'},"​")],-1),i("p",null,"最近正在配置 AnyGrasp，在这里记录一下遇到的问题。我的环境为 Ubuntu 22.04, CUDA 12.1, cudnn 9.3.0。",-1),i("div",{class:"info custom-block"},[i("p",{class:"custom-block-title"},[i("span",{lang:"en"},"INFO"),i("span",{lang:"zh-CN"},"信息")]),i("p",null,"之前其实写过一版，但是感觉不是很详细，至少照着看是不能无痛安装的，所以说换了一个新的，并且重新写一下。")],-1),i("p",null,[s("首先先给出 AnyGrasp 的 Github 仓库链接："),i("a",{href:"https://github.com/graspnet/anygrasp_sdk",target:"_blank",rel:"noreferrer"},"https://github.com/graspnet/anygrasp_sdk"),s("，其中的 "),i("code",null,"Installation"),s(" 部分给出了简略的安装步骤，但是因为其依赖的 MinkowskiEngine 已经年久失修，所以需要一些额外的操作。")],-1),i("p",null,"先配置一个 conda 环境：",-1),i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"conda"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," create"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," -n"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," anygrasp"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," python="),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}},"3.10")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"conda"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," install"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," openblas-devel"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," -c"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," anaconda")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"pip"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," install"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," torch"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," '"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"numpy<1.23"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"'"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," ninja")])])]),i("button",{class:"collapse"})],-1),i("p",null,"接下来可以开始配置第一步，也就是 MinkowskiEngine：",-1),i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"git"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," clone"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," https://github.com/NVIDIA/MinkowskiEngine.git")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#82AAFF","--shiki-light":"#6182B8"}},"cd"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," MinkowskiEngine")])])]),i("button",{class:"collapse"})],-1),i("p",null,"根据经验来说，需要配置以下的环境变量：",-1),i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#C792EA","--shiki-light":"#9C3EDA"}},"export"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}}," CXX"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"c++")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#C792EA","--shiki-light":"#9C3EDA"}},"export"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}}," CUDA_HOME"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"/usr/local/cuda-12.1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#C792EA","--shiki-light":"#9C3EDA"}},"export"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}}," MAX_JOBS"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#F78C6C","--shiki-light":"#F76D47"}},"2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#C792EA","--shiki-light":"#9C3EDA"}},"export"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}}," SKLEARN_ALLOW_DEPRECATED_SKLEARN_PACKAGE_INSTALL"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"True")])])]),i("button",{class:"collapse"})],-1),i("p",null,[s("其中后两者，"),i("code",null,"MAX_JOBS"),s(" 是 CUDA: Out of memory 的 Issue，"),i("code",null,"SKLEARN_ALLOW_DEPRECATED_SKLEARN_PACKAGE_INSTALL=True"),s(" 是 sklearn 过期的 Issue。假如说之后执行安装操作：")],-1),i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"python"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," setup.py"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," install"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," --blas_include_dirs="),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"${"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}},"CONDA_PREFIX"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"}"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"/include"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," --blas=openblas")])])]),i("button",{class:"collapse"})],-1),i("p",null,[s("首先可能存在的报错，核心问题为 "),i("code",null,'error: namespace "thrust" has no member "device"'),s("，本质上还是年久失修，和 CUDA 12.X 不兼容了。")],-1),i("p",null,[s("根据仓库里的 "),i("a",{href:"https://github.com/NVIDIA/MinkowskiEngine/issues/543",target:"_blank",rel:"noreferrer"},"Issue#543"),s(" 可以找到对于我适用的方法，即在四个不同的文件中添加 "),i("code",null,"#include"),s("：")],-1),i("div",{class:"vp-code-group vp-adaptive-theme"},[i("div",{class:"tabs"},[i("input",{type:"radio",name:"group-Pi6_i",id:"tab-8wWIFSo",checked:"checked"}),i("label",{for:"tab-8wWIFSo"},"cpp"),i("input",{type:"radio",name:"group-Pi6_i",id:"tab-kooE4JX"}),i("label",{for:"tab-kooE4JX"},"cpp"),i("input",{type:"radio",name:"group-Pi6_i",id:"tab-mbHUEwr"}),i("label",{for:"tab-mbHUEwr"},"cpp"),i("input",{type:"radio",name:"group-Pi6_i",id:"tab-yQMjj8t"}),i("label",{for:"tab-yQMjj8t"},"cpp")]),i("div",{class:"blocks"},[i("div",{class:"language-cpp vp-adaptive-theme active"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"cpp"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line highlighted"},[i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"// src/convolution_kernel.cuh")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"#include"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," <"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"thrust/execution_policy.h"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")])])]),i("button",{class:"collapse"})]),i("div",{class:"language-cpp vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"cpp"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line highlighted"},[i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"// src/coordinate_map_gpu.cu")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"#include"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," <"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"thrust/unique.h"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"#include"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," <"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"thrust/remove.h"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")])])]),i("button",{class:"collapse"})]),i("div",{class:"language-cpp vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"cpp"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line highlighted"},[i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"// src/spmm.cu")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"#include"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," <"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"thrust/execution_policy.h"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"#include"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," <"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"thrust/reduce.h"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">"),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE"}}," ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"#include"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," <"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"thrust/sort.h"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")])])]),i("button",{class:"collapse"})]),i("div",{class:"language-cpp vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"cpp"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line highlighted"},[i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"// src/3rdparty/concurrent_unordered_map.cuh")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"#include"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," <"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"thrust/execution_policy.h"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},">")])])]),i("button",{class:"collapse"})])])],-1),i("p",null,[s("之后可能会有报错 "),i("code",null,"ModuleNotFoundError: No module named 'distutils.msvccompiler'"),s("，那么执行 "),i("code",null,'pip install "setuptools <65"'),s("。")],-1),i("p",null,"之后再次安装，也会有报错：",-1),i("div",{class:"language-txt vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"txt"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",null,"Traceback (most recent call last):")]),s(`
`),i("span",{class:"line"},[i("span",null,'  File "/home/gaoning/miniconda3/envs/anygrasp/lib/python3.10/site-packages/torch/utils/cpp_extension.py", line 2105, in _run_ninja_build')]),s(`
`),i("span",{class:"line"},[i("span",null,"    subprocess.run(")]),s(`
`),i("span",{class:"line"},[i("span",null,'  File "/home/gaoning/miniconda3/envs/anygrasp/lib/python3.10/subprocess.py", line 526, in run')]),s(`
`),i("span",{class:"line"},[i("span",null,"    raise CalledProcessError(retcode, process.args,")]),s(`
`),i("span",{class:"line"},[i("span",null,"subprocess.CalledProcessError: Command '['ninja', '-v', '-j', '2']' returned non-zero exit status 1.")])])]),i("button",{class:"collapse"})],-1),i("p",null,[s("可以编辑 "),i("code",null,"setup.py"),s("：")],-1),i("div",{class:"language-python vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"python"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#82AAFF","--shiki-light":"#6182B8"}},"setup"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"(")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"    name"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"MinkowskiEngine"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"    version"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#82AAFF","--shiki-light":"#6182B8"}},"find_version"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"("),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"MinkowskiEngine"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},","),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},' "'),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"__init__.py"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"),")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"    install_requires"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"=["),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"torch"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},","),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},' "'),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"numpy"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"],")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"    packages"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"=["),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"MinkowskiEngine"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},","),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},' "'),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"MinkowskiEngine.utils"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},","),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},' "'),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"MinkowskiEngine.modules"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"],")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"    package_dir"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"={"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"MinkowskiEngine"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},":"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},' "'),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"./MinkowskiEngine"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"},")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"    ext_modules"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#82AAFF","--shiki-light":"#6182B8"}},"ext_modules"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"    include_dirs"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"=["),i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"str"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"("),i("span",{style:{"--shiki-dark":"#82AAFF","--shiki-light":"#6182B8"}},"SRC_PATH"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"),"),i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}}," str"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"("),i("span",{style:{"--shiki-dark":"#82AAFF","--shiki-light":"#6182B8"}},"SRC_PATH "),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"/"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},' "'),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"3rdparty"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"),"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}}," *"),i("span",{style:{"--shiki-dark":"#82AAFF","--shiki-light":"#6182B8"}},"include_dirs"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"],")]),s(`
`),i("span",{class:"line highlighted"},[i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"    cmdclass"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"={"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"build_ext"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},":"),i("span",{style:{"--shiki-dark":"#82AAFF","--shiki-light":"#6182B8"}}," BuildExtension"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"."),i("span",{style:{"--shiki-dark":"#82AAFF","--shiki-light":"#6182B8"}},"with_options"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"("),i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"use_ninja"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"=False)},")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"    author"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"Christopher Choy"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#EEFFFF","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"    author_email"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},"="),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}},"chrischoy@ai.stanford.edu"),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},'"'),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#82AAFF","--shiki-light":"#6182B8"}},"    ..."),i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#89DDFF","--shiki-light":"#39ADB5"}},")")])])]),i("button",{class:"collapse"})],-1),i("p",null,[s("将 "),i("code",null,"use_ninja"),s(" 设置为 "),i("code",null,"False"),s("，之后再次执行，就没问题了。")],-1),i("p",null,[s("之后安装 "),i("code",null,"anygrasp_sdk"),s("：")],-1),i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"git"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," clone"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," https://github.com/graspnet/anygrasp_sdk.git")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#82AAFF","--shiki-light":"#6182B8"}},"cd"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," anygrasp_sdk")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"pip"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," install"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," -r"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," requirements.txt")])])]),i("button",{class:"collapse"})],-1),i("p",null,[s("之后安装 "),i("code",null,"pointnet2"),s("：")],-1),i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#82AAFF","--shiki-light":"#6182B8"}},"cd"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," pointnet2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"python"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," setup.py"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," install")])])]),i("button",{class:"collapse"})],-1),i("p",null,[s("值得一提的是，在安装 pointnet2 的过程中依然可能出现 "),i("code",null,"Command '['ninja', '-v', '-j', '2']'"),s(" 的报错，解决方法同上，依然是修改 "),i("code",null,"setup.py"),s(" 中的 "),i("code",null,"setup()"),s(" 函数的传参。")],-1),i("p",null,"在这一过程中还可能出现一个比较罕见的问题：",-1),i("div",{class:"language-txt vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"txt"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",null,"gcc: fatal error: cannot execute ‘cc1plus’: execvp: No such file or directory")]),s(`
`),i("span",{class:"line"},[i("span",null,"compilation terminated.")]),s(`
`),i("span",{class:"line"},[i("span",null,"error: command '/usr/bin/gcc' failed with exit code 1")])])]),i("button",{class:"collapse"})],-1),i("p",null,[s("一般来说直接 "),i("code",null,"sudo apt install build-essential"),s(" 就已经可以了，但是我的问题不止于此，因为系统里的 "),i("code",null,"gcc"),s(" 和 "),i("code",null,"g++"),s(" 都没问题。检查之后发现，这是因为 pointnet2 的编译过程中涉及了使用 "),i("code",null,"gcc"),s(" 并且调用 "),i("code",null,"g++"),s(" 的操作，而 "),i("code",null,"gcc"),s(" 大概率调用同版本的 "),i("code",null,"g++"),s("，可能是因为 "),i("code",null,"gcc --version"),s(" 和 "),i("code",null,"g++ --version"),s(" 两个的版本不一样，所以就导致了这个问题。使用指定版本的 "),i("code",null,"sudo apt install"),s(" 进行重新安装（版本在 "),i("code",null,"Ubuntu 22.04"),s(" 可以是 12）：")],-1),i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," apt"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," install"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," gcc-12"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," g++-12")])])]),i("button",{class:"collapse"})],-1),i("p",null,"之后正常安装即可。",-1),i("p",null,[s("最后是使用 AnyGrasp 需要 Key，而这个 Key 需要生成，因此需要使用 "),i("code",null,"./license_checker -f"),s("，而因为 Ubuntu 22.04，这个也会报错，一个是缺少 "),i("code",null,"libcrypto.so.1.1"),s("，一个是 "),i("code",null,"sh: 1: ifconfig: not found"),s("。")],-1),i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"# to solve libcrypto.so.1.1 issue")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"find"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," /"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," -name"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," libcrypto.so.1.1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"# for example found a libcrypto.so.1.1 from cuda")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," ln"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," -s"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," /usr/local/cuda-12.1/nsight-systems-2023.1.2/host-linux-x64/libcrypto.so.1.1"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," /usr/lib/libcrypto.so.1.1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#545454","--shiki-light":"#90A4AE","--shiki-dark-font-style":"italic","--shiki-light-font-style":"italic"}},"# to solve ifconfig issue")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," apt"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," install"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," net-tools")])])]),i("button",{class:"collapse"})],-1),i("p",null,[s("同时运行 "),i("code",null,"./lincense_checker -f"),s(" 之后输出的机器码，大概率最后以 "),i("code",null,"%"),s(" 结尾，这个因为在输出的时候没有添加换行提示符（Python 的 "),i("code",null,"print()"),s(" 自带换行符，而写这个程序的编程语言有可能不带），提交不包含 "),i("code",null,"%"),s(" 的内容到申请表中即可，另，邮箱需要使用教育邮箱。")],-1),i("h2",{id:"ubuntu22-04-搜狗输入法无法输出中文",tabindex:"-1"},[s("Ubuntu22.04 搜狗输入法无法输出中文 "),i("a",{class:"header-anchor",href:"#ubuntu22-04-搜狗输入法无法输出中文","aria-label":'Permalink to "Ubuntu22.04 搜狗输入法无法输出中文"'},"​")],-1),i("p",null,"众所周知，在 Ubuntu 系统中，假如说在安装的时候选择了中文作为语言（一般来说我在写教程的时候会推荐这么做，之后再把中文换回英文，而把输入法留下来），那么你的电脑中会包含一个 Ubuntu 的默认的输入法，然而不说这个输入法不是很符合中国人的说话习惯，其也很难根据你的打字来学习你的打字习惯。一般来说唯一的解决方案就是使用搜狗输入法。",-1),i("p",null,"具体的方法如下：",-1),i("p",null,[s("前往 "),i("a",{href:"https://shurufa.sogou.com/",target:"_blank",rel:"noreferrer"},"搜狗输入法的官网"),s(" 并且下载 "),i("code",null,"Linux个人版"),s("，这时候就会开始下载搜狗输入法的 "),i("code",null,".deb"),s(" 包，并且进入搜狗输入法的教程界面。然而虽然说一般情况下这个教程是好用的，但是在 Ubuntu 22.04 的时候，或许需要额外进行一些操作，以下从头来讲。")],-1),i("p",null,"首先需要安装 fcitx：",-1),i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," apt"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," install"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," fcitx")])])]),i("button",{class:"collapse"})],-1),i("p",null,[s("之后进入设置中的区域和语言（Region & Language），选择 Manage Installed Languages，在 Keyboard input method system 中选择 "),i("code",null,"Fcitx 4"),s("。当然，假如说你本身没有配置过中文，需要先在 Install/Remove Languages 中选择简体中文并且点击 "),i("code",null,"Apply"),s("：")],-1),i("div",{class:"flex grid-cols-2"},[i("div",null,[i("figure",null,[i("img",{src:"https://pic.axi404.top/image.ic2bux3q4.webp",alt:"",loading:"lazy",decoding:"async"})])]),i("div",null,[i("figure",null,[i("img",{src:"https://pic.axi404.top/image.8hgf6x8yun.webp",alt:"",loading:"lazy",decoding:"async"})])])],-1),i("p",null,"之后再安装一些依赖并且删除 ibus。",-1),i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes material-theme-darker material-theme-lighter vp-code"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," apt"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," install"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," libqt5qml5"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," libqt5quick5"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," libqt5quickwidgets5"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," qml-module-qtquick2")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," apt"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," install"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," libgsettings-qt1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFCB6B","--shiki-light":"#E2931D"}},"sudo"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," apt"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," remove"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," --purge"),i("span",{style:{"--shiki-dark":"#C3E88D","--shiki-light":"#91B859"}}," ibus")])])]),i("button",{class:"collapse"})],-1),i("p",null,[s("之后 "),i("code",null,"reboot"),s(" 重启电脑，应该就会出现搜狗输入法了。假如没有的话，点击输入法，选择 "),i("code",null,"配置"),s(" 或者 "),i("code",null,"Configure"),s("，添加点击加号并且搜索搜狗输入法（sogoupinyin）进行添加。保险起见，可以把别的输入法都按一遍减号来删除。")],-1),i("figure",null,[i("img",{src:"https://pic.axi404.top/image.64dspq5v6e.webp",alt:"",loading:"lazy",decoding:"async"})],-1),i("p",null,[s("此时搜狗输入法就安装好了。其中主要的坑在于，安装依赖并且删除 ibus 这一步骤，在 "),i("a",{href:"https://shurufa.sogou.com/linux/guide",target:"_blank",rel:"noreferrer"},"搜狗输入法自己的教程"),s(" 中没有给出。")],-1)])),"main-header":l(()=>[t(a.$slots,"main-header")]),"main-header-after":l(()=>[t(a.$slots,"main-header-after")]),"main-nav":l(()=>[t(a.$slots,"main-nav")]),"main-content":l(()=>[t(a.$slots,"main-content")]),"main-content-after":l(()=>[t(a.$slots,"main-content-after")]),"main-nav-before":l(()=>[t(a.$slots,"main-nav-before")]),"main-nav-after":l(()=>[t(a.$slots,"main-nav-after")]),comment:l(()=>[t(a.$slots,"comment")]),footer:l(()=>[t(a.$slots,"footer")]),aside:l(()=>[t(a.$slots,"aside")]),"aside-custom":l(()=>[t(a.$slots,"aside-custom")]),default:l(()=>[t(a.$slots,"default")]),_:3},8,["frontmatter"])}}};export{C as default};
